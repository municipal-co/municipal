{% assign eyebrow =  product.metafields.custom_fields["overview_eyebrow"] %}
{% assign title = product.metafields.custom_fields["overview_title"] %}
{% assign copy = product.metafields.custom_fields["overview_copy"] %}
{% assign overview_image = product.metafields.custom_fields["overview_image"] %}
{% assign video = product.metafields.custom_fields["overview_video"] %}
{% assign details = product.metafields.custom_fields["overview_details"] %}
{% assign small_text = product.metafields.custom_fields["overview_small_text"] %}

{% if details != blank and overview_image != blank %}
  <div id="product-overview" class="product-overview" data-section-type="product-overview" data-animated-background="#000000">
    <div class="row no-gutters justify-content-center">
      <div class="col-lg-22 col-20">

        <div class="overview-content">
          {% if eyebrow != blank %}
            <span class="overview-content__eyebrow h5">{{ eyebrow }}</span>
          {% endif %}
          {% if title != blank %}
            <h2 class="overview-content__title h1">{{ title }}</h2>
          {% endif %}
          {% if copy != blank %}
            <p class="overview-content__copy p2">{{ copy }}</p>
          {% endif %}
        </div>

        <div class="overview-details row no-gutters">
          <div class="overview-details__image col-lg-12">
            <div class="image-container frame frame--4x3">

              {% if video != blank %}
                {% assign yt_video_id = video | remove: "https://www.youtube.com/watch?v=" %}

                <div class="overview-video">
                  <div id="video-player-{{ yt_video_id }}" class="video-player" data-video-player data-video-id="{{ yt_video_id }}" data-video-type="youtube" data-background="false" data-embed-color="#000000">
                    <div class="video-player__cover" data-video-player-cover>
                      <div class="video-player__cover-still lazyload" data-background="{{ overview_image }}"></div>
                      <span class="video-player__cover-play" data-video-play>
                        {% include "icon-play-full-color" %}
                      </span>
                    </div>
                    <div class="video-player__embed" data-video-player-embed></div>
                  </div>
                </div>
              {% else %}
                {% render 'image_tag'
                    image: overview_image,
                    object_fit: 'cover'
                %}
              {% endif %}
            </div>

            {% if small_text != blank %}
              <p class="overview-details__small-text d-none d-lg-block">{{ small_text }}</p>
            {% endif %}
          </div>

            <div class="overview-details__content col-lg-11 offset-lg-1">{{ details }}</div>
            <p class="overview-details__small-text d-block d-lg-none">{{ small_text }}</p>
        </div>
      </div>
    </div>

  </div>
{% endif %}

